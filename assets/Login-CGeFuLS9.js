import{r as i,u as f,c as y,j as s,n as S,o as w}from"./index-DEVsI3mn.js";import{u as b,f as E}from"./notifications-BR1u3VLV.js";import{A as I,a as L,b as n,S as v,c as A,d as N,t as R,R as T,e as k,f as q,g as H}from"./Login.styled-TljLSOg8.js";import{c as l,S as P}from"./Register.styled-Byrkh-t_.js";const F=()=>{const[r,c]=i.useState("password"),[d,u]=i.useState(!1),t=f(),p=y(),{handleSubmit:g,register:o,formState:{errors:e,isValid:m},reset:h}=b(),x=async j=>{try{t(S(j)).unwrap().then(a=>{t(w(a.uid)),h(),p("/")}).catch(()=>{E("Sorry, write your login or password correctly")})}catch(a){console.log(a.message)}};return s.jsxs(I,{children:[s.jsxs("form",{onSubmit:g(x),className:"auth-form",children:[s.jsx(L,{children:"Log In"}),s.jsxs(n,{children:["Enter your email",s.jsx(l,{type:"email",...o("email",{required:!0}),placeholder:"email@gmail.com"}),e.email&&s.jsxs("span",{children:[" ",e.email.message]})]}),s.jsxs(n,{children:["Enter your password",s.jsx(l,{type:r,...o("password",{required:!0}),placeholder:"Password",className:"form-control"}),s.jsx(v,{children:s.jsx(A,{children:s.jsx(N,{onClick:()=>R(r,c,u),children:d?s.jsx(T,{}):s.jsx(k,{})})})}),e.password&&s.jsx("span",{children:e.password.message})]}),s.jsx(P,{type:"submit",disabled:!m,children:"Login"})]}),s.jsx(q,{children:"Haven't signed up yet? "}),s.jsx(H,{to:"/signup",children:"Sign up"})]})};export{F as default};
